def pancake_sort(arr):
    n = len(arr)
    for size in range(n, 1, -1):
        # Находим индекс максимального элемента в неотсортированной части
        max_idx = arr.index(max(arr[:size]))
        # Если максимум не на своём месте
        if max_idx != size - 1:
            # Переворачиваем до максимума, чтобы он оказался в начале
            if max_idx != 0:
                arr[:max_idx + 1] = arr[:max_idx + 1][::-1]
            # Переворачиваем всю неотсортированную часть, чтобы максимум оказался в конце
            arr[:size] = arr[:size][::-1]
    return arr
# Пример использования
arr = [3, 1, 4, 2, 6, 5]
print("До сортировки:", arr)
print("После сортировки:", pancake_sort(arr.copy()))
