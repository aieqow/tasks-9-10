import java.util.*;

public class BucketSort     
    public static void bucketSort(double[] arr) {
        if (arr.length == 0) return;
        // Создаём корзины
        List<Double>[] buckets = new ArrayList[arr.length];
        for (int i = 0; i < buckets.length; i++) {
            buckets[i] = new ArrayList<>();
        }
        // Распределяем элементы по корзинам
        for (double num : arr) {
            int index = (int) (num * buckets.length);
            buckets[index].add(num);
        }
        // Сортируем каждую корзину
        for (List<Double> bucket : buckets) {
            Collections.sort(bucket);
        }
        // Собираем обратно в массив
        int index = 0;
        for (List<Double> bucket : buckets) {
            for (double num : bucket) {
                arr[index++] = num;
            }
        }
    }
    public static void main(String[] args) {
        double[] arr = {0.42, 0.32, 0.33, 0.52, 0.37, 0.47, 0.51};
        bucketSort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
